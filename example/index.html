<html>
  <head>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      window.onload = function() {
        var socket = io.connect("http://localhost");
        socket.on('server_to_client', function(data) {
          document.getElementById("out").innerText += "\n" + data.data;
        });
        socket.on("id", function(data) {
          document.getElementById("out").innerText += "Your id is: " + data.data;
        });
        document.getElementById("what").onkeydown = function(e) {
          if (e.keyCode == 13) {
            socket.emit("client_to_server", {who: Number(document.getElementById("who").value), what: this.value});
            this.value = "";
          }
        };
      };
    </script>
  </head>
  <body>
    <pre id="out">
    </pre>
    <input id="who"/><input id="what"/>
  </body>
</html>
